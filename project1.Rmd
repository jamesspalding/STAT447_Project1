---
title: "STAT547 Project 1"
author: "James Spalding"
date: "2024-02-27"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, include=F}
#packages
library(tidyverse)
library(readxl)
```

```{r}
##### Data cleaning #####
#data
patients = read_excel("patients.xlsx")[,1:5]
parkdata = read.csv("parkinsons.csv")

#patients data:
#clean up non-numeric values
#only a few incorrect values, so manually entering data.
patients[2,5] = ".25"
patients[6,5] = "1.5"
patients[12,5] = "4.5"
patients[15,5] = "5.5"
patients[24:31,4:5] = NA
patients$`Stage (H&Y)` = as.numeric(patients$`Stage (H&Y)`)
patients$`Years since diagnosis` = as.numeric(patients$`Years since diagnosis`)

#remove "healthy" from names
subnames = gsub(" \\(.*", "", patients$'Subject code')
patients$`Subject code` = subnames
colnames(patients)[1] = "name"


#parkdata: 
#makes names column match format of patients data
parknames = gsub("p.*S", "S", parkdata$name)
parknames = gsub("_.", "", parknames)

parkdata$name = parknames


##### Joining Tables #####
fulldata = right_join(patients, parkdata, by = "name")
fulldata = fulldata[!is.na(fulldata$Sex), ] #removing cases without a match in patients df
```

```{r}
#function to create descriptive tables
groupDescriptives = function(func){
  df = data.frame(nrow = 31)
  for (i in 6:21) {
    df = cbind(df, 
                   tapply(fulldata[[i]], fulldata[["name"]], func)
                   )
  }
  df = df[,2:17]
  names(df) = names(fulldata)[6:21]
  return(df)
}

meanDF = groupDescriptives("mean")
sdDF = groupDescriptives("sd")
medDF = groupDescriptives("median")
```


# Introduction

```{r}

```

# Exploring Data

```{r}

```

# Methods

```{r}

```

# Results

```{r}

```

